---
#networks:

volumes:
  matrix-nfs:
    driver: local
    driver_opts:
      type: nfs
      o: ${NFS_O}
      device: ":${NFS_DEVICE}/${matrix_container_name}"

#secrets:

services:
  matrix-synapse:
    image: docker.io/matrixdotorg/synapse:latest@sha256:5898d3ba5aa81bc03ee55adeaf7e11d5a0c5fe2a103ddb8cbe8e727fec47a6ff
    container_name: ${matrix_container_name}
    restart: ${restart}
    ports:
      - "${matrix_port_8008}:8008"
    environment:    
      - TZ=${timezone}
    volumes:
      - matrix-nfs:/data

